(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();let u,d,a=0,f,l=0,s=0,i=!1;function g(){f=setInterval(()=>{const o=Date.now();if(o>=d&&(a=100,document.querySelector("#progress-percentage").textContent="100",console.log("BSOD done!"),clearInterval(f),setTimeout(()=>{document.querySelector("main").style.setProperty("display","none"),document.body.style.removeProperty("background-color"),i&&(document.exitFullscreen||document.webkitExitFullscreen).call(document)},1e3)),s>=1)s--;else if(l>=1){l--;return}const r=(o-u)/(d-u),t=r**2;a=Math.min(100,Math.max(100*(t/(2*(t-r)+1)+(Math.random()*.1-.08)),a)),Math.random()*r>.6?(s=Math.round(Math.random()*10)+1,console.log("zooming "+s)):(l=Math.round(Math.random()*(Math.min((d-o)/100-10,75)+10)),console.log("waiting "+l)),document.querySelector("#progress-percentage").textContent=a.toFixed(0),console.log(l,s,r)},100)}document.getElementsByName("bg-color").forEach(o=>{o.addEventListener("change",()=>{document.querySelector("meta[name='theme-color'").setAttribute("content",o.value),document.querySelector("main").style.setProperty("background-color",o.value)})});document.querySelector("#create").addEventListener("click",()=>{u=Date.now();const o=document.querySelector("input[name='length']").valueAsNumber*1e3||3e4;d=u+o,console.group("BSOD at "+u),console.log("Blue screening for "+o+"ms"),document.getElementsByName("bg-color").forEach(t=>{t.checked&&(document.querySelector("meta[name='theme-color'").setAttribute("content",t.value),document.querySelector("main").style.setProperty("background-color",t.value),document.body.style.setProperty("background-color",t.value))}),console.group("Setting textâ€¦"),document.querySelectorAll("fieldset > label > input[type='text']").forEach(t=>{const c=document.querySelector("#"+t.getAttribute("name")),e=t.value||t.getAttribute("placeholder");console.log(c,e),c.textContent=e}),document.querySelector("#progress-percentage").textContent=0,a=0,l=Math.min(10,Math.floor(o/200)),s=0,console.groupEnd(1);const r=document.querySelector("main");try{(r.requestFullscreen||r.webkitRequestFullscreen).call(r,{navigationUI:"hide"}),i=!0}catch(t){i=!1,console.error(t)}r.style.setProperty("display","flex"),g()});function y(){clearInterval(f),document.querySelector("main").style.setProperty("display","none"),document.body.style.removeProperty("background-color"),console.log("BSOD cancelled."),console.groupEnd(1)}document.addEventListener("keydown",o=>{o.key==="Escape"&&y()});document.addEventListener("fullscreenchange",()=>{document.fullscreenElement||(y(),i=!1)});document.addEventListener("webkitfullscreenchange",()=>{document.webkitFullscreenElement||(y(),i=!1)});(/iPad/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&document.querySelector("#ios-warning").style.setProperty("display","block");
