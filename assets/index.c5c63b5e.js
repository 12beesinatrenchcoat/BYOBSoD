(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function u(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=u(o);fetch(o.href,r)}})();let n=0,l=3e4,y=0,a=0,d=!1,m,s=!1;function g(){if(l<=n)document.querySelector("#progress-percentage").textContent="100",console.log("BSOD done!"),m=setTimeout(()=>{document.querySelector("main").style.setProperty("display","none"),document.body.style.removeProperty("background-color"),s&&(document.exitFullscreen||document.webkitExitFullscreen).call(document)},2e3);else{const e=l-n>1e3?Math.floor(Math.random()*Math.min(l/2,1e4)-1e3+1e3):1e3;d?(y=a,a=Math.max(Math.min(n/l*((Math.random()*.5+.5)*100)+(Math.random()*10-5),99),y)):(a=0,d=!0),n+=e,document.querySelector("#progress-percentage").textContent=String(Math.floor(a)),m=setTimeout(g,e)}}document.getElementsByName("bg-color").forEach(e=>{e.addEventListener("change",()=>{document.querySelector("meta[name='theme-color'").setAttribute("content",e.value),document.querySelector("main").style.setProperty("background-color",e.value)})});document.querySelector("#create").addEventListener("click",()=>{console.group("BSOD at "+Date.now()),n=0,l=document.querySelector("input[name='length']").value*1e3||3e4,d=!1,console.log("Blue screening for "+l+"ms"),document.getElementsByName("bg-color").forEach(t=>{t.checked&&(document.querySelector("meta[name='theme-color'").setAttribute("content",t.value),document.querySelector("main").style.setProperty("background-color",t.value),document.body.style.setProperty("background-color",t.value))}),console.group("Setting text\u2026"),document.querySelectorAll("fieldset > label > input[type='text']").forEach(t=>{const u=document.querySelector("#"+t.getAttribute("name")),c=t.value||t.getAttribute("placeholder");console.log(u,c),u.textContent=c}),console.groupEnd(1);const e=document.querySelector("main");try{(e.requestFullscreen||e.webkitRequestFullscreen).call(e,{navigationUI:"hide"}),s=!0}catch(t){s=!1,console.error(t)}e.style.setProperty("display","flex"),g()});function f(){n=0,clearTimeout(m),document.querySelector("main").style.setProperty("display","none"),document.body.style.removeProperty("background-color"),console.log("BSOD cancelled."),console.groupEnd(1)}document.addEventListener("keydown",e=>{e.key==="Escape"&&f()});document.addEventListener("fullscreenchange",()=>{document.fullscreenElement||(f(),s=!1)});document.addEventListener("webkitfullscreenchange",()=>{document.webkitFullscreenElement||(f(),s=!1)});(/iPad/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&document.querySelector("#ios-warning").style.setProperty("display","block");
